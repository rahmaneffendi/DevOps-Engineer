# server

## Membuat Server

Pertama kita buat 4 buah server

1. app-rahman (Frontend, Backend & Database)

user = app, pw = Sembarang1, IP = 103.226.138.167

2. jenkins-rahman (CI&CD)

user = jenkins, pw = Sembarang1, IP = 103.31.38.45

3. monitoring-rahman (Prometheus, Grafena)

user = moni, pw = Sembarang1, IP = 103.31.39.90

4. nginx-rahman 

user = nginx, pw = Sembarang1, IP = 103.181.143.205

## Melakukan Persiapan 

kita cek ansible nya

![image](https://user-images.githubusercontent.com/99697182/176092311-fe03256f-3b08-4209-be36-bb13a08a542b.png)

Pertama siapkan folder khusus final task nya terlebih dahulu

![image](https://user-images.githubusercontent.com/99697182/176055065-a8fd69f4-9f8a-400f-83bb-a025b4456597.png)

kemudian kita buat file inventory yang berisi alamat ip semua server 

```
[all]
103.226.138.167 ansible_user=app #app
103.31.39.90 ansible_user=moni #monitoring
103.181.143.205 ansible_user=nginx #nginx(gateway)
103.31.38.45 ansible_user=jenkins #CICD

[app]
103.226.138.167 ansible_user=app #app


[monitoring]
103.31.39.90 ansible_user=moni #monitoring


[gateway]
103.181.143.205 ansible_user=nginx #nginx(gateway)

[jenkins]
103.31.38.45 ansible_user=jenkins #CICD

```

![image](https://user-images.githubusercontent.com/99697182/176057425-f2ad9248-0680-4bf7-9173-8c0ae23b31f3.png)

Kemudian kita membuat key.pem dan isikan didalamnya id_rsa privatenya server

![image](https://user-images.githubusercontent.com/99697182/176090962-12893901-f684-47f9-9f66-431f34855c26.png)

kemudian kita buat file ansible.cfg 

![image](https://user-images.githubusercontent.com/99697182/176091156-f77b83ac-2121-4c50-88e6-9797beab005a.png)

kemudian saya akan membuat ansible playbook untuk docker

### Perubahan karena ada user baru

disini saya akan melakukan beberapa perubahan











